;******************************************************************************
;*** SWARM Launcher ***********************************************************
;******************************************************************************
; Taifun Missile Artillery (now differentiated from Missile Tank, which is the BearCat)
; There is _a_lot_ of stuff here. 
; This subsumes the (obsolete?) Saber (SaberLRMLaunchVeh)
; It launches multiple missiles (like a Katyusha/Grad) that are homing, but inaccurate, and AG/AA. 
; It gains a ROF bonus with extended fire. 
; xxx
; Eligible for upgrades: Nanite Repair, Aux Drone, SWARM Munitions
;; SWARM Munitions allow the tank to switch between single and multi-missile. 
; It can now switch to a barrage mode instead, where it depletes its ammo in a single barrage. 
; This unit should have higher range than normal tanks (but not extremely so), 
; and be capable of AA. 

;------------------------------------------------------------------------------
[VehicleTypes]
+				= TaifunLV		; Taifun Tank, Rookie
+				= TaifunLV_e3		; Taifun Tank, Elite
+				= TaifunLV_e4		; Taifun Tank, Master
+				= TaifunLV_e5		; Taifun Tank, Ace
+				= TaifunLV_e6		; Taifun Tank, Champion
+				= TaifunLV_e7		; Taifun Tank, Heroic
+				= TaifunLV_e8		; Taifun Tank, Legendary
+				= TaifunLV_e9		; Taifun Tank, Epic
+				= TaifunLV_e10		; Taifun Tank, Mythic
+				= TaifunLV		; Taifun Tank, Rookie, Husk

;------------------------------------------------------------------------------
; MLRS-89 Typhoon Missile Artillery
;; MLRS-89 Hurricane Rocket Tank
; BM-27 Uragan & tank chassis. 
; Subsumes Eagle Red's MLRS89. 
; Subsumes SaberLRMLaunchVeh (Tiberium Rising 2000/Assassin's LRML). In TR2000, this unit is commented as "Tiberian Dawn Rocket Launcher". 
; Downgraded from artillery to tank now (although it may get split again later
; (ad maybe into an artillery vehicle and missile mecha))
; We split them now. 
; Subsumes [HKMissile] (Harkonnen Missile Tank (ebfd))
; Subsumes [RocketTank], Allied/CDF missile tank (MTNK) ARRF Missile Tank (Alas, Babylon)
; Formerly SSML, MISLTNK, TaifunTank, [TaifunMLV]. 
; Saber Rocket Tank
[TankTaifun]




Score  = 3

Size = 2






Points=25
;----- Text -----
Name				= TyphoonSaber SWARM LRM Launcher Artillery
UIName				= name:tnk_misl
UIDescription			= desc:tnk_misl
;----- GFX -----
Image				= FWLF					; ##TEST## ; MRL ; RKETTNK ; MLRS
ZFudgeColumn=8
ZFudgeTunnel=13
ZFudgeColumn=12
ZFudgeTunnel=15
ZFudgeColumn=9
DamageEffect			= MediumDamageFX
ChaosEffect			= MediumChaosFX
HawkEffect			= MediumHawkFX
;----- Taxonomy -----
Category			= LRFS					; TR2000: "AFV"
UnitGroup			= FromFactory
;----- AI -----
AiSpecial			= TRUE
VHPScan				= strong
ThreatPosed			= 40
TastyToWorms = TRUE
WormAttraction = 6
AIThreat = 85
ThreatPosed=25	; This value MUST be 0 for all building addons
ThreatPosed=0	; This value MUST be 0 for all building addons
ThreatPosed			= 10
GuardRange=9
;----- Body -----
Health				= 1100
Strength			= 250					; ER ; 200 ; 400 ; 150 ; 100 ; Alas, Babylon: 350
Size				= 6					; Arbitrarily assigned. Of course, TR2000 was missing this value. ; 5 ; 3
Weight				= 2					; 3.5
SelfHealing			= no


IsSelectableCombatant=yes
;GuardRange=30
;----- Weapons -----
Primary				= SaberLRMLauncher									; TR2000: "NEWMRLmiss"

;TargetLaser			= yes
FireAngle			= 32

Primary				= TaifunLRMLauncher;TankMissileLauncher
Secondary			= TaifunLRMLauncher_AA;TankMissileLauncher

Primary=MLRS89Rockets
ElitePrimary=MLRS89RocketsE
;Secondary=MLRS89Missiles

ElitePrimary			= TankMissileLauncherE
EliteSeconary			= TankMissileLauncherE

Primary				= RocketLauncher_3899A
Secondary			= RocketLauncher_3899A

;Primary=MultiCluster
;Secondary=APTusk ; definitely needs an AA weapon here

;Primary=BFM2
;Secondary=MammothTusk


; This one's like Tempest from DigitalGod Mod...we've got 100s of weapons systems that would fit for it. Pick the best...
;Elite=HoverMissile2
;Elite=MammothTusk
;Elite=Hellfire
;Primary=HoverMissile
;Secondary=RedEye
;Secondary=RedEye2
;Elite=Hellfire2
RadialFireSegments		= 4;2;10;6

OpportunityFire			= yes
DistributedFire			= yes					; The weapon handles this. :P
;NoMobileFire=false
;MovingFire=true
FireAngle=64
AirRangeBonus=4

IsGattling=yes

;TurretCount=1
;WeaponCount=6

Weapon1=TankMissileLauncher.Up0
Weapon2=TankMissileLauncher.Up0
EliteWeapon1=TankMissileLauncher.Up0
EliteWeapon2=TankMissileLauncher.Up0

Weapon3=TankMissileLauncher.Up1
Weapon4=TankMissileLauncher.Up1
EliteWeapon3=TankMissileLauncher.Up1
EliteWeapon4=TankMissileLauncher.Up1

Weapon5=TankMissileLauncher.Up2
Weapon6=TankMissileLauncher.Up2
EliteWeapon5=TankMissileLauncher.Up2
EliteWeapon6=TankMissileLauncher.Up2

;How many stages does this gattling gun have, and how long does it
;take to progress through these stages;
WeaponStages=3
Stage1=200
Stage2=400
;This last stage is used to determine what the maximum fireing timer can be. Once it
;hits this it will stop increasing. If this is larger than the previous stage, then
;it will have a grace period once the unit stops firing before it needs to drop
;down to the lower weapon.
Stage3=600

EliteStage1=100
EliteStage2=200
EliteStage3=300

;How many increments or decrements does the timer get per frame?
;If RateDown is zero, then it overrides the previous stage vaules,
;causing the tank to instantly go to zero when it stops firing
;if it can't find a new target
RateUp=1
RateDown=50

;-----End Gattling stuff-------
; Set 1
Weapon1				= TaifunRocketLauncher
Weapon2				= TaifunRocketLauncher
EliteWeapon1			= TaifunRocketLauncher_E
EliteWeapon2			= TaifunRocketLauncher_E

; Set 2
Weapon3				= TaifunRocketLauncher_2
Weapon4				= TaifunRocketLauncher_2
EliteWeapon3=MedusaRockets;2E
EliteWeapon4=MedusaAA2E

; Set 3
Weapon5=MedusaRockets;3
;Weapon6=MedusaAA3
EliteWeapon5			= TaifunRocketLauncher_3E
EliteWeapon6			= TaifunRocketLauncher_3E

;WeaponStages=3
;Stage1=200
;Stage2=400
;Stage3=600

;EliteStage1=100
;EliteStage2=200
;EliteStage3=300

;RateUp=1
;RateDown=50

RadialFireSegments		= 16
AirRangeBonus			= 3

WeaponCount			= 1
Primary				= ROCKETLAUNCHER3E813
ElitePrimary			= ROCKETLAUNCHERD7DC5
Weapon1				= ROCKETLAUNCHER3E813
EliteWeapon1			= ROCKETLAUNCHERD7DC5
MobileFire			= no
NoMovingFire			= yes
OpportunityFire			= no
;----- Armor -----
Armor				= medium			; PolymerArmor				; almost immune vs electro	; heavy
Armour				= Heavy
TypeImmune			= yes					; Allows groups composed of this type to operate together, without instantly destroying themselves. 
StormDamage			= 10
;----- Perception -----
ViewRange			= 4,14,InfRock
Sight=8;7
Speed=5
Sight=5
;----- Turrets ----- 
Turret				= yes
TurretCount			= 1
TurretCount=2
IsChargeTurret=true
TurretAttach			= HKMissileTankBarrage
;----- Availability -----
House				= Harkonnen
Side				= China
Owner				= Alliance,Chinese,Japanese,Koreans			; TR2000: "GDI"
;RequiredHouses			= Chinese						; ER
TechLevel			= 4
Prerequisite			= AAFactory,AAUpgRadar					; like MLRS in TD is Factory, Adv Comm Center. Was AATechCenter. 
PrimaryBuilding			= HKFactory
UpgradedPrimaryRequired		= true
Cost				= 900
AllowedToStartInMultiplayer	= no
CrateGoodie			= yes


TechLevel = 5
Starportable = TRUE    
ReinforcementValue		= 7

Cost=1200
TechLevel=9
Points=40

BuildTime = 589


TechLevel			= 7											; when enabled 7
Prerequisite			= UNFactory,UNRadar
Cost				= 2000
;BuildLimit			= 2

DoubleOwned			= yes					; ##TEST##
Cost				= 800					; 850

;----- Load -----
Crewed				= yes
DamageReducesReadiness		= yes
Ammo=16
PipScale=Ammo
PipWrap=8
EmptyReload=500
Reload=8	;should be higher than ROF, otherwise reloads while waiting for second salvo... on the other hand it needs to be low enough to fake "insta-reload", so the unit does not fire single shots while alternating reload and firing.

Ammo=9
Reload=30

;----- Damage & Destruction -----
DamageParticleSystems=SparkSys,SmallGreySSys
MaxDebris=2
DebrisTypes=TurretTaifun,MissileTaifun,TankGas,Piece
DebrisMaximums=1,3,2,2
;Explosion=TWLT070,S_BANG48,S_BRNL58,S_CLSN58,S_TUMU60
DestroyAnim=TWLT070,S_BANG48,S_BRNL58,S_CLSN58,S_TUMU60
DestroyAnim.Random=true
;----- SFX -----
VoiceSelect			= GenAAVehicleSelect
VoiceMove			= GenAAVehicleMoveCommand
VoiceAttack			= GenAAVehicleAttackCommand
VoiceFeedback			= 
DieSound			= GenVehicleDie
MoveSound			= FlakTrackMoveStart
CrushSound			= TankCrush
;----- Movement -----
Locomotor			= {4A582741-9839-11d1-B709-00A024DDAFD1}
MovementZone			= Destroyer
ROT				= 5
Crusher				= yes
Crushes				= yes
IsTilter=yes
Speed				= 6;4;8
TurretROT			= 10
AccelerationFactor=0.01
IsTilter=true
TooBigToFitUnderBridge=true
ROT				= 5			; 4
Speed				= 6.0
TurnRate = 0.175
Tracked=yes
Terrain				= Rock, Sand, NBRock, Ramp

Size=6

TechLevel=4
Sight=10

Cost=600
IsSelectableCombatant=yes
Points=25
Sight=12
;----- SFX -----
VoiceSelect			= TaifunSelect			; 25-I000,25-I002,25-I004,25-I006
VoiceMove			= TaifunMoveCommand		; 25-I012,25-I014,25-I016,25-I018,25-I022
VoiceAttack			= TaifunAttackCommand		; 25-I014,25-I022,25-I024,25-I026
VoiceFeedback			= 
DieSound			= GenVehicleDie
MoveSound			= FlakTrackMoveStart
CrushSound			= TankCrush
Maxdebris=3
;----- Veterancy -----
VeteranAbilities		= STRONGER,FIREPOWER,SIGHT,FASTER
;EliteAbilities			= SELF_HEAL,STRONGER,FIREPOWER,ROF
VeteranAbilities=SENSORS,SIGHT,ROF,RANGE	; Unfortunately, RANGE is not valid. 
EliteAbilities=SELF_HEAL,GUARD_AREA,SIGHT,ROF,RANGE	; ditto

VeterancyLevel			= 10 
ExtraDamage			= 25
VeterancyLevel			= 24
CanSelfRepair			= 1  
VeterancyLevel			= 48
ExtraDamage			= 50  
ExtraArmour			= 50  
EliteAbilities			= EXPLODES
EliteAbilities=SELF_HEAL

Weight=3.5
Armor=medium
TechLevel=7
Sight=8
Speed=4
Points=25
IsSelectableCombatant=yes

ThreatPosed=40	; This value MUST be 0 for all building addons
DamageParticleSystems=SparkSys,SmallGreySSys
DamageSmokeOffset=100, 100, 275
Accelerates=false
ZFudgeColumn=8
ZFudgeTunnel=13
Size=3
OpportunityFire=yes

Sight=5 
Cost=500 

Strength=200
TechLevel=4
Sight=10
Points=40
MaxDebris=2
Weight=2
DebrisTypes=TIRE,PIECE
DebrisMaximums=4,3
Size=6

Strength=400
TooBigToFitUnderBridge=true
TechLevel=4
Sight=5
Speed=4
Crusher=yes
Points=25
Maxdebris=3
ThreatPosed=40	; This value MUST be 0 for all building addons

Sight=10
Cost=900
Points=40
MaxDebris=2
Size=6
;----- Perception -----
Sight				= 3

;----- Scoring -----
Points				= 60
Points=25
;----- Damage & Destruction -----
DamageParticleSystems		= SparkSys,SmallGreySSys
Explosion			= TWLT070,S_BANG48,S_BRNL58,S_CLSN58,S_TUMU60
MaxDebris			= 8
DebrisTypes			= MLRSTURRET,PIECE
DebrisMaximums			= 1,7


DebrisTypes=TIRE
DebrisMaximums=4


DamageSmokeOffset		= 100, 100, 275
MaxDebris			= 5
DebrisTypes			= MissileTank,MissileTankTur,Rocket,PIECE
DebrisMaximums			= 1,1,3,5					; 1,1,3,3

MaxDebris=4
MinDebris=8
DebrisTypes=SSML,SSMLTUR,SSMLBARL,GASTANK,PIECE
DebrisMaximums=1,1,1,1,4
DebrisMinimums=1,0,1,0,2

ExplosionType = Explosion

Debris = DebrisMedium

;----- GFX -----
ZFudgeColumn			= 9
ZFudgeTunnel			= 15

;----- SFX -----
VoiceSelect			= 25-I000,25-I002,25-I004,25-I006
VoiceMove			= 25-I012,25-I014,25-I016,25-I018,25-I022
VoiceAttack			= 25-I014,25-I022,25-I024,25-I026
VoiceFeedback			= 



Weight=3.5
ThreatPosed=60	; This value MUST be 0 for all building addons
NoMovingFire=true		; This MUST be set to true for the sonic tank


Primary=BFM2
Secondary=MammothTusk           ;HoverMissile
Strength=800
Armor=heavy
TechLevel=7
Cost=900
Points=60
SelfHealing=yes
MaxDebris=7
ThreatPosed=40	; This value MUST be 0 for all building addons
Primary=RPGTower
Strength=380
Armor=light
Sight=13
Speed=4
Cost=320
Points=40
MaxDebris=4
DebrisTypes=DMLRSTUR,PIECE
DebrisMaximums=1,3
EliteAbilities=SENSORS
AccelerationFactor=0.01

Primary=RedEye2
MaxDebris=10
DebrisMaximums=1,9

;------------------------------------------------------------------------------
; unknown (Covert Ops II?)'s MULTILAUNVE (Multi-Missile Launcher)
; Formerly [TaifunLV_a2] (Taifun LRM Launcher Tank (SWARM Ammo Mode)). 
; Barrage Mode - Taifun will unload its entire ammo at maximum fire rate. It then needs a longer period to recuperate ammo. 
; This achieves the maximum fire rate for a brief period. 
[TankTaifunB]:[TankTaifun]
;----- Text -----
Name				= Tank Taifun (Mode Barrage)
;----- Gfx -----
;Image				= HVR				; Different image to differentiate it for testing purposes. 
Category=AFV

Prerequisite=NAWEAP,NACITA,NAMISL
Primary=MultiLauncher2
TooBigToFitUnderBridge=true
Strength=250
Armor=wood
TechLevel=10
Sight=7
Speed=5
Owner=Nod
Cost=2500
Turret=no
Points=30
ROT=5
Crusher=no
Ammo=-1
VoiceSelect=25-I000,25-I002,25-I004,25-I006
VoiceMove=25-I012,25-I014,25-I016,25-I018,25-I022
VoiceAttack=25-I014,25-I022,25-I024,25-I026
VoiceFeedback=
MaxDebris=4
Locomotor={4A582742-9839-11d1-B709-00A024DDAFD1}
MovementZone=Destroyer
ThreatPosed=25
DamageParticleSystems=SparkSys,SmallGreySSys
EliteAbilities=SELF_HEAL STRONGER
ZFudgeColumn=12
ZFudgeTunnel=15
Secondary=MultiLauncher2
BuildLimit=1
AllowedToStartInMultiplayer=no


; Advanced Missile Tank
[MISLTNK]
Name=Advanced Missile Tank
Prerequisite=NAWEAP,NATECH
Primary=HoverMissile
Elite=MultiCluster
